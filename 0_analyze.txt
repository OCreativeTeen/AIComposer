wan22 first last Frame
    https://www.runninghub.ai/ai-detail/1956200271837843458

    https://www.runninghub.ai/ai-detail/1965130805364314114

    https://www.runninghub.ai/ai-detail/1967627743921922049

    https://www.runninghub.ai/ai-detail/1912778901398192129   1440p


wan22 3 frames
    https://www.runninghub.ai/ai-detail/1969274356671148034






--------------------------



python -m venv venv
      specify  python version  
            (If Python is installed via Windows Store or py launcher)
                py -3.10 -m venv myenv310
                py -3.11 -m venv myenv310
            else 
                C:\Python310\python.exe -m venv myenv310-path
     

venv\Scripts\activate.bat

or  ps
.\venv\Scripts\Activate.ps1



check CUDA version
nvidia-smi



pip install -r requirements.txt


--------------------------

Ctrl + ,  
            Search:
                terminal activate environment
    
                    Python: Terminal Activate Environment is checked (set to true).
                        This setting makes Cursor automatically run the venv\Scripts\activate (or equivalent) command when a new terminal is opened in a workspace with a selected virtual environment interpreter.





Ctrl-Shift-P    
   >   Python: Select Interpreter
            Choose the Python interpreter from your virtual environment (e.g., ./venv/Scripts/python.exe on Windows or ./venv/bin/python on Linux/macOS). This tells Cursor to use the virtual environmentâ€™s Python interpreter.








https://aistudio.google.com/apikey



Great! Now I can see the issue clearly:
MoviePy v2.1.2 vs v2.2.1: There's a version mismatch (pip showed 2.2.1 but runtime shows 2.1.2)
Missing Pillow: This is a critical dependency for image processing
No moviepy.editor module: In newer versions of MoviePy, the structure has changed
The main issues are:
Missing Pillow dependency
Incompatible MoviePy version - The newer versions don't have moviepy.editor




check ,  if some effect on image to video can take benefit of nvidia GPU  process (cuda) ?? if yes, try to use GUP boost.

also is there any other effects besides these lines of code provided ,  which based on nvidia GPU ?



good, help me to add the new effect into this list (to use them)


fo rthe new effect you added to effect_image_to_vidie, please add it to GUI create_image_tab ,  radiobutton for the effect setting & regenerated the video for the effect on image




---------------------------------
Speaker Diarization
---------------------------------
https://github.com/pyannote/pyannote-audio
---------------------------------



pip install yt-dlp openai-whisper ffmpeg-python

or

pip install yt-dlp faster-whisper ffmpeg-python


pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121


        pip uninstall torch -y
        pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118


pip install --upgrade google-auth-oauthlib google-auth google-api-python-client




 yt-dlp --list-subs https://www.youtube.com/watch?v=xHACoGA275g  




IF USE  CUDA 12.X
    https://developer.nvidia.com/cuda-12-1-0-download-archive
        ä¸‹è½½å¯¹åº”ä½ ç³»ç»Ÿçš„ç‰ˆæœ¬ï¼ˆWindows Installerï¼‰ï¼Œå®‰è£…æ—¶å‹¾é€‰ï¼š
            cuBLAS
            cuDNNï¼ˆå¯é€‰ï¼‰


------------------------------------------------------------------
Youtube Upload 

æ³¨å†Œ Google Cloud é¡¹ç›®
    å‰å¾€ï¼šGoogle Cloud Console
    å¯ç”¨ YouTube Data API v3

åˆ›å»º OAuth 2.0 å‡­æ®
    é€‰æ‹©ã€ŒOAuth å®¢æˆ·ç«¯ IDã€
    ç±»å‹ï¼šDesktop app
    ä¸‹è½½ client_secrets.json


    categoryId="22" æ˜¯ã€ŒPeople & Blogsã€ï¼Œå¯æ›´æ”¹ï¼š
        1: Film & Animation
        10: Music
        22: People & Blogs
        24: Entertainment


stable-Diffusion

IP-Adapter
    https://huggingface.co/h94/IP-Adapter/tree/main/models

------------------------------------------------------------------

from pathlib import Path

path = Path("sc/bs/c.mp3") 
without_ext = str(path.with_suffix(''))
print(without_ext)  # Output: sc/bs/c (or sc\bs\c on Windows)


------------------------------------------------------------------


å¸¸ç”¨ç¬¦å·å­—ç¬¦åˆ—è¡¨
åª’ä½“æ§åˆ¶ç¬¦å·
æ’­æ”¾æ§åˆ¶: â–¶ â—€ â¸ â¹ âº â­ â® â¯
éŸ³é‡: ï¿½ï¿½ ï¿½ï¿½ ğŸ”ˆ ï¿½ï¿½ ğŸ”Š ğŸ”‰ ğŸ”ˆ ï¿½ï¿½
æ—¶é—´: â° â± â² â³ âŒš âŒ›
ç¼–è¾‘å·¥å…·ç¬¦å·
å‰ªåˆ‡: âœ‚ï¸ âœ‚ âœ„ ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½
å¤åˆ¶: ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ âœï¸ âœ âœ’ ğŸ–Š ï¿½ï¿½
ç²˜è´´: ï¿½ï¿½ ğŸ“„ ğŸ“
åˆ é™¤: ğŸ—‘ï¸ ï¿½ï¿½ âŒ â âœ– âœ—
åª’ä½“ç›¸å…³ç¬¦å·
è§†é¢‘: ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ ğŸ¬ ï¿½ï¿½ ï¿½ï¿½
éŸ³é¢‘: ï¿½ï¿½ ğŸ¶ ğŸ”Š ğŸ”‰ ï¿½ï¿½ ğŸ¤ ï¿½ï¿½ ï¿½ï¿½
å›¾ç‰‡: ï¿½ï¿½ï¸ ï¿½ï¿½ ï¿½ï¿½ï¸ ğŸ“· ğŸ“¸ ğŸ–¼ï¸
æ“ä½œç¬¦å·
åˆ·æ–°/é‡ç½®: ï¿½ï¿½ â†» â†º ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½
è®¾ç½®: âš™ï¸ âš™ ğŸ”§ ğŸ”¨ ï¿½ï¿½ï¸ ï¿½ï¿½
ä¿å­˜: ï¿½ï¿½ ğŸ’¾ ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½
åŠ è½½: ï¿½ï¿½ ï¿½ï¿½ ğŸ“‚ ï¿½ï¿½ ğŸ“‚ ğŸ“
å¯¼èˆªç¬¦å·
æ–¹å‘: â¬… â¡ â¬† â¬‡ â†– â†— â†˜ â†™
ç®­å¤´: â† â†’ â†‘ â†“ â†” â†• â†© â†ª
é¡µé¢: â—€ â–¶ â— â–· â—‚ â–¸
çŠ¶æ€ç¬¦å·
æˆåŠŸ: âœ… âœ“ âœ” â˜‘ âœ… âœ…
é”™è¯¯: âŒ â âœ– âœ— âš ï¸ âš  ğŸš« ï¿½ï¿½
ä¿¡æ¯: â„¹ï¸ â„¹ ï¿½ï¿½ ğŸ’¡ ğŸ’¡ ï¿½ï¿½
è­¦å‘Š: âš ï¸ âš  âš ï¸ âš  âš ï¸ âš 
æ•°å­¦ç¬¦å·
åŸºæœ¬: + - Ã— Ã· = â‰  â‰ˆ Â±
æ¯”è¾ƒ: < > â‰¤ â‰¥ â‰¦ â‰§
å…¶ä»–: âˆ âˆ‘ âˆ âˆš âˆ› âˆœ âˆ« âˆ‚
ç‰¹æ®Šç¬¦å·
æ˜Ÿå·: â˜… â˜† â­ ï¿½ï¿½ âœ¨ ğŸ’«
å¿ƒå½¢: â¤ ï¿½ï¿½ ğŸ’š ï¿½ï¿½ ï¿½ï¿½ ğŸ–¤ ï¿½ï¿½ ï¿½ï¿½
å‡ ä½•: â— â—‹ â–  â–¡ â–² â–³ â–¼ â–½ â—† â—‡
çº¿æ¡: â”€ â”‚ â”Œ â” â”” â”˜ â”œ â”¤ â”¬ â”´ â”¼
è¡¨æƒ…ç¬¦å·ï¼ˆé€‚åˆæŒ‰é’®ï¼‰
å¸¸ç”¨: ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ ğŸ˜… ğŸ˜‚
å·¥å…·: ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ï¸ âš™ï¸ ğŸ”© ğŸ”« ğŸ’£ ï¿½ï¿½
æ‰‹åŠ¿: ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ âœŒ ï¿½ï¿½ ï¿½ï¿½ ğŸ¤˜ ï¿½ï¿½ ğŸ‘‰
åœ¨ä½ çš„ä»£ç ä¸­å·²ç»ä½¿ç”¨çš„ç¬¦å·ï¼š
â—€ - åé€€
â–¶ - å‰è¿›/æ’­æ”¾
ï¿½ï¿½ - é‡ç½®
âœ‚ï¸ - å‰ªåˆ‡
ï¿½ï¿½ - è§†é¢‘/PIP
â¹ - åœæ­¢
âš ï¸ - è­¦å‘Š
Ã— - ä¹˜å·
ï¿½ï¿½ - æç¤º
ä½ å¯ä»¥æ ¹æ®æŒ‰é’®çš„åŠŸèƒ½é€‰æ‹©åˆé€‚çš„ç¬¦å·ã€‚æ¯”å¦‚ï¼š
æ’­æ”¾æŒ‰é’®ç”¨ â–¶
åœæ­¢æŒ‰é’®ç”¨ â¹
è®¾ç½®æŒ‰é’®ç”¨ âš™ï¸
ä¿å­˜æŒ‰é’®ç”¨ ğŸ’¾
åˆ é™¤æŒ‰é’®ç”¨ ğŸ—‘ï¸
è¿™äº›ç¬¦å·åœ¨å¤§å¤šæ•°ç°ä»£å­—ä½“ä¸­éƒ½èƒ½æ­£ç¡®æ˜¾ç¤ºï¼Œéå¸¸é€‚åˆç”¨äºGUIç•Œé¢çš„æŒ‰é’®æ–‡æœ¬ã€‚








cd Real-ESRGAN
call venv\Scripts\activate.bat

mkdir /wan_video/enhanced/clip_p202601081625_30001_ENH_
"E:\wan_video\VideoBackProcessor\Real-ESRGAN\venv\Scripts\python.exe" inference_realesrgan.py -n RealESRGAN_x2plus -i /wan_video/original/clip_p202601081625_30001_ENH_ -o /wan_video/enhanced/clip_p202601081625_30001_ENH_ --suffix out  --face_enhance --face_enhance_weight 0.3






    def visualize_scenes(self, audio_path, audio_json, general_location, style, shot, angle, color):
        system_prompt = config_prompt.VISUAL_STORY_SUMMARIZATION_SYSTEM_PROMPT.format(
            language=config.LANGUAGES[self.language],
            length=512
        )

        text_summary = self.llm_api.generate_text_summary(
                            system_prompt, 
                            "\n".join([segment["speaking"] for segment in audio_json])
                        )
        text_summary = text_summary + "\nThe story end like ... " + audio_json[-1]["speaking"]

        raw_json_path = f"{config.get_project_path(self.pid)}/{Path(audio_path).stem}.json"

        system_prompt = config_prompt.SCENE_SUMMARY_SYSTEM_PROMPT
        system_prompt = system_prompt + f"\n***FYI*** Generally, video/image is in \'{style}\' style &  \'{color}\' colors; the camera using \'{shot}\' shot, in \'{angle}\' angle."

        user_prompt = json.dumps(audio_json, ensure_ascii=False, indent=2)

        raw_scenes = self.llm_api.generate_json_summary(system_prompt, user_prompt, raw_json_path)

        for i, scene_data in enumerate(raw_scenes):
            scene_data.update({
                # "effect": config.get_next_special_effect(),
                # "raw_scene_index": f"{audio_stem}_raw_{i}",
                "clip_animation": "",
                "narration_animation": "",
                "main_audio": audio_path,
                "story_summary": text_summary
            })

        with open(raw_json_path, "w", encoding="utf-8") as f:
            json.dump(raw_scenes, f, ensure_ascii=False, indent=2)

        print(f"raw scenes summary done for {audio_path}...")
        return raw_scenes, raw_json_path






        system_prompt = config_prompt.VISUAL_STORY_SUMMARIZATION_SYSTEM_PROMPT.format(
            language=config.LANGUAGES[self.language],
            length=512
        )
        text_summary = self.llm_api.generate_text(
                            system_prompt, 
                            "\n".join([segment["speaking"] for segment in audio_json])
                        )
        text_summary = text_summary + "\nThe story end like ... " + audio_json[-1]["speaking"]













    def _confirm_process_video(self, video_path: str) -> bool:
        """
        é¢„è§ˆè§†é¢‘å¹¶è®©ç”¨æˆ·ç¡®è®¤æ˜¯å¦ç»§ç»­å¤„ç†ã€‚
        ä¼˜å…ˆå¼¹å‡ºå›¾å½¢å¯¹è¯æ¡†ï¼Œæ— æ³•åˆ›å»ºæ—¶å›é€€åˆ°æ§åˆ¶å°æç¤ºã€‚
        """
        abs_path = str(Path(video_path).resolve())

        # è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç›´æ¥ç»ˆæ­¢
        if not Path(abs_path).exists():
            self.logger.error(f"Video not found for confirmation: {abs_path}")
            return False

        def _launch_default_player():
            """ä½¿ç”¨ç³»ç»Ÿé»˜è®¤æ’­æ”¾å™¨æ’­æ”¾è§†é¢‘"""
            try:
                if sys.platform.startswith("win"):
                    os.startfile(abs_path)  # type: ignore[attr-defined]
                elif sys.platform == "darwin":
                    subprocess.Popen(["open", abs_path])
                else:
                    subprocess.Popen(["xdg-open", abs_path])
            except Exception as e:
                # é¿å…é ASCII æ—¥å¿—å¯¼è‡´ç¼–ç å¼‚å¸¸
                self.logger.warning(f"Cannot auto-open video for preview: {e}")

        # å¼¹çª—ç¡®è®¤ï¼›å¤±è´¥åˆ™ä½¿ç”¨å‘½ä»¤è¡Œç¡®è®¤
        try:
            import tkinter as tk
            from tkinter import messagebox
            from tkinter import ttk

            root = tk.Tk()
            root.title("ç¡®è®¤å¤„ç†è§†é¢‘")
            root.geometry("520x180")
            root.resizable(False, False)

            ttk.Label(root, text="æ˜¯å¦å¤„ç†è¯¥è§†é¢‘ï¼Ÿ").pack(pady=6)
            path_box = tk.Text(root, height=3, wrap="word")
            path_box.insert("1.0", abs_path)
            path_box.configure(state="disabled")
            path_box.pack(fill="both", padx=10)

            btn_frame = ttk.Frame(root)
            btn_frame.pack(pady=10)

            result = {"value": None}

            def on_confirm(event=None):
                result["value"] = True
                root.destroy()

            def on_cancel(event=None):
                result["value"] = False
                root.destroy()

            def on_play(event=None):
                _launch_default_player()

            ttk.Button(btn_frame, text="æ’­æ”¾/é¢„è§ˆ", command=on_play).grid(row=0, column=0, padx=5)
            ttk.Button(btn_frame, text="ç¡®è®¤å¤„ç†", command=on_confirm).grid(row=0, column=1, padx=5)
            ttk.Button(btn_frame, text="å–æ¶ˆ", command=on_cancel).grid(row=0, column=2, padx=5)

            root.bind("<Return>", on_confirm)
            root.bind("<Escape>", on_cancel)
            root.mainloop()

            if result["value"] is not None:
                return result["value"]
        except Exception as e:
            self.logger.warning(f"GUI confirm failed; fallback to console: {e}")

        try:
            answer = input(f"Process video '{abs_path}'? (y/N): ").strip().lower()
            return answer in ("y", "yes")
        except Exception as e:
            self.logger.error(f"User confirmation failed: {e}")
            return False










Complete List of Chinese Voice IDs (Speech-02 HD / System Voices)

These IDs are usable via the API (i.e. â€œsystem voice_idâ€, not clone voices).

Style / Label	Voice ID
é’æ¶©é’å¹´ (young male, fresh)	male-qn-qingse 
resource.ppio.com

ç²¾è‹±é’å¹´ (elite youth male)	male-qn-jingying 
resource.ppio.com

éœ¸é“é’å¹´ (domineering youth male)	male-qn-badao 
resource.ppio.com

é’å¹´å¤§å­¦ç”Ÿ (college youth male)	male-qn-daxuesheng 
resource.ppio.com

å°‘å¥³éŸ³è‰² (young girl)	female-shaonv 
resource.ppio.com

å¾¡å§éŸ³è‰² (cool-mature young woman)	female-yujie 
resource.ppio.com

æˆç†Ÿå¥³æ€§ (mature female)	female-chengshu 
resource.ppio.com

ç”œç¾å¥³æ€§ (sweet female)	female-tianmei 
resource.ppio.com

ç”·æ€§ä¸»æŒäºº (male presenter / host)	presenter_male 
resource.ppio.com

å¥³æ€§ä¸»æŒäºº (female presenter / host)	presenter_female 
resource.ppio.com

ç”·æ€§æœ‰å£°ä¹¦ 1 (audiobook male style 1)	audiobook_male_1 
resource.ppio.com

ç”·æ€§æœ‰å£°ä¹¦ 2 (audiobook male style 2)	audiobook_male_2 
resource.ppio.com

å¥³æ€§æœ‰å£°ä¹¦ 1 (audiobook female style 1)	audiobook_female_1 
resource.ppio.com

å¥³æ€§æœ‰å£°ä¹¦ 2 (audiobook female style 2)	audiobook_female_2 
resource.ppio.com

é’æ¶©é’å¹´-beta	male-qn-qingse-jingpin 
resource.ppio.com

ç²¾è‹±é’å¹´-beta	male-qn-jingying-jingpin 
resource.ppio.com

éœ¸é“é’å¹´-beta	male-qn-badao-jingpin 
resource.ppio.com

é’å¹´å¤§å­¦ç”Ÿ-beta	male-qn-daxuesheng-jingpin 
resource.ppio.com

å°‘å¥³-beta	female-shaonv-jingpin 
resource.ppio.com

å¾¡å§-beta	female-yujie-jingpin 
resource.ppio.com

æˆç†Ÿå¥³æ€§-beta	female-chengshu-jingpin 
resource.ppio.com

ç”œç¾å¥³æ€§-beta	female-tianmei-jingpin 
resource.ppio.com

èªæ˜ç”·ç«¥ (smart boy)	clever_boy 
resource.ppio.com

å¯çˆ±ç”·ç«¥ (cute boy)	cute_boy 
resource.ppio.com

èŒèŒå¥³ç«¥ (cute girl)	lovely_girl 
resource.ppio.com

å¡é€šçŒªå°çª (cartoon pig â€œXiao Qiâ€)	cartoon_pig 
resource.ppio.com

ç—…å¨‡å¼Ÿå¼Ÿ (sickly cute little brother)	bingjiao_didi 
resource.ppio.com

ä¿Šæœ—ç”·å‹ (handsome boyfriend)	junlang_nanyou 
resource.ppio.com

çº¯çœŸå­¦å¼Ÿ (innocent junior schoolboy)	chunzhen_xuedi 
resource.ppio.com

å†·æ·¡å­¦é•¿ (â€œaloof senior studentâ€)	lengdan_xiongzhang 
resource.ppio.com

éœ¸é“å°‘çˆ· (domineering young master)	badao_shaoye 
resource.ppio.com

ç”œå¿ƒå°ç² (sweetheart â€œXiaolingâ€)	tianxin_xiaoling 
resource.ppio.com

ä¿çš®èŒå¦¹ (playful cute girl)	qiaopi_mengmei 
resource.ppio.com

å¦©åªšå¾¡å§ (seductive older sister style)	wumei_yujie 
resource.ppio.com

å—²å—²å­¦å¦¹ (â€œcoquettish younger female studentâ€)	diadia_xuemei 
resource.ppio.com

æ·¡é›…å­¦å§ (elegant senior female student)	danya_xuejie 
resource.ppio.com